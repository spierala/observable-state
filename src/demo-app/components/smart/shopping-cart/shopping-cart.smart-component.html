<ng-container *ngIf="vm$|async as vm">
  <sh-breadcrumb [breadcrumbItems]="breadcrumbItems"></sh-breadcrumb>
  <h1>My shopping cart</h1>
  <form>
    <table>
      <thead>
      <tr>
        <th>Product</th>
        <th>Amount</th>
        <th>Price/item</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let entry of vm.shoppingCartEntriesWithProductInfo">
        <td>{{entry.name}}</td>
        <td>
          <label>
            <input type="number" [name]="'amount_' + entry.productId"
                   [attr.value]="entry.amount"
                   (change)="updateAmount($event, entry.productId)"/>

          </label>
        </td>
        <td>{{entry.price}} &euro;</td>
      </tr>
      <tr>
        <td><strong>Total</strong></td>
        <td>{{vm.amount}}</td>
        <td>{{vm.totalPrice}} &euro;</td>
      </tr>
      </tbody>
    </table>
  </form>

  <a routerLink="order" shButton>Order now</a>
</ng-container>
